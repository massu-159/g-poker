# G-Poker 動作確認テストチェックリスト

## 概要
Cockroach Pokerアプリの包括的な動作確認テストチェックリスト。
各機能の正常動作を確認し、バグや不具合を特定するためのガイドです。

## テスト環境
- **対象プラットフォーム**: iOS, Android, Web
- **推奨テスト人数**: 2名（マルチプレイヤーテスト用）
- **テスト実行時間**: 約60-90分（全項目実施時）

---

## 1. 認証機能テスト

### 1.1 新規ユーザーサインアップ
**目的**: 新規ユーザー登録の正常動作確認

**手順**:
1. アプリを起動
2. 「サインアップ」ボタンをタップ
3. 有効なメールアドレスを入力 (例: test@example.com)
4. パスワードを入力 (8文字以上)
5. 「サインアップ」ボタンをタップ

**期待結果**:
- ✅ サインアップが成功する
- ✅ 確認メールが送信される（メールボックス確認）
- ✅ プロフィールが自動作成される
- ✅ チュートリアル画面が表示される

**NG例と対処**:
- ❌ メール形式エラー → 正しい形式で再入力
- ❌ パスワード短すぎ → 8文字以上で再入力

### 1.2 既存ユーザーサインイン
**目的**: 既存ユーザーのログイン機能確認

**手順**:
1. 「サインイン」ボタンをタップ
2. 登録済みメールアドレスを入力
3. 正しいパスワードを入力
4. 「サインイン」ボタンをタップ

**期待結果**:
- ✅ サインインが成功する
- ✅ ホーム画面（チュートリアル完了済みの場合）またはチュートリアル画面が表示
- ✅ 最終ログイン時刻が更新される

### 1.3 パスワードリセット 
**目的**: パスワード忘れ機能の確認 ⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️未実施

**手順**:
1. サインイン画面で「パスワードを忘れた」をタップ
2. 登録済みメールアドレスを入力
3. 「リセットメール送信」をタップ
4. メールボックスを確認し、リセットリンクをクリック

**期待結果**:
- ✅ リセットメールが送信される
- ✅ リンクから新しいパスワードを設定できる
- ✅ 新しいパスワードでサインイン可能

### 1.4 サインアウト
**目的**: ログアウト機能の確認

**手順**:
1. プロフィール画面に移動
2. 「サインアウト」ボタンをタップ
3. 確認ダイアログで「サインアウト」を選択

**期待結果**:
- ✅ セッションが終了する
- ✅ サインイン画面に戻る
- ✅ ローカルデータがクリアされる

---

## 2. チュートリアル機能テスト

### 2.1 初回チュートリアル表示
**目的**: 新規ユーザー向けチュートリアルの確認

**手順**:
1. 新規ユーザーでサインアップ
2. チュートリアル画面の内容を確認
3. 各ステップを順次進行
4. 「チュートリアル完了」ボタンをタップ

**期待結果**:
- ✅ ゲームルールが分かりやすく説明される
- ✅ 各クリーチャータイプ（🪳🐭🦇🐸）の説明がある
- ✅ 基本操作方法が説明される
- ✅ 完了後、ホーム画面に遷移

### 2.2 チュートリアル再表示 
**目的**: チュートリアル完了後の再表示機能確認 ⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️未実施

**手順**:
1. ホーム画面から設定またはヘルプにアクセス
2. 「チュートリアルを再表示」オプションを探す
3. チュートリアルを再実行

**期待結果**:
- ✅ いつでもチュートリアルを再確認できる
- ✅ 内容が初回と同じ

---

## 3. ロビー機能テスト

### 3.1 ゲーム作成
**目的**: 新しいゲームの作成機能確認

**手順**:
1. ロビー画面に移動
2. 「ゲーム作成」タブを選択
3. ゲーム設定を確認（時間制限等）
4. 「ゲーム作成」ボタンをタップ

**期待結果**:
- ✅ ゲームが正常に作成される
- ✅ ゲームロビーに自動で移動
- ✅ 作成者として表示される（Player 1）
- ✅ Ready状態が表示される

### 3.2 ゲーム検索・フィルタリング
**目的**: ゲーム一覧表示と検索機能確認

**手順**:
1. 「ゲーム参加」タブを選択
2. ゲーム一覧が表示されることを確認
3. 検索フィルター（待機中ゲームのみ等）を試す
4. リフレッシュ機能を試す

**期待結果**:
- ✅ 利用可能なゲーム一覧が表示される
- ✅ フィルターが正常に動作する
- ✅ ゲーム情報（作成者、時間制限等）が正確に表示

### 3.3 ゲーム参加
**目的**: 既存ゲームへの参加機能確認

**前提**: テスト用ユーザー2名必要

**手順**:
1. ユーザーA: ゲームを作成
2. ユーザーB: ゲーム一覧から参加可能ゲームを選択
3. ユーザーB: 「参加」ボタンをタップ

**期待結果**:
- ✅ ユーザーBがゲームに参加できる
- ✅ 両ユーザーのロビー画面に2名表示
- ✅ Player 1（作成者）、Player 2（参加者）として表示

### 3.4 Ready状態管理
**目的**: プレイヤーのReady状態確認

**手順**:
1. ゲームロビーでReadyスイッチを操作
2. 相手プレイヤーのReady状態変化を確認
3. 両プレイヤーがReadyになるまで待機

**期待結果**:
- ✅ Ready状態がリアルタイムで同期される
- ✅ Ready/Not Ready状態が視覚的に分かりやすく表示
- ✅ カウンター表示（1/2 ready → 2/2 ready）

### 3.5 ゲーム開始
**目的**: ゲーム開始機能確認

**手順**:
1. 両プレイヤーがReady状態になる
2. ゲーム作成者が「ゲーム開始」ボタンをタップ
3. 確認ダイアログで「開始」を選択

**期待結果**:
- ✅ ゲームが正常に開始される
- ✅ ゲーム画面に遷移
- ✅ カードが両プレイヤーに配布される（各9枚）
- ✅ Player 1のターンから開始

---

## 4. ゲームロジックテスト

### 4.1 カード配布確認
**目的**: ゲーム開始時のカード配布確認

**手順**:
1. ゲームを開始
2. 自分の手札枚数を確認
3. カード種類を確認

**期待結果**:
- ✅ 各プレイヤーに9枚ずつ配布
- ✅ 4種類のクリーチャーカード（🪳🐭🦇🐸）
- ✅ 相手の手札は裏面表示
- ✅ 合計18枚配布、6枚隠し

### 4.2 カード選択・宣言
**目的**: カード選択と宣言機能の確認

**手順**:
1. 自分のターン時、手札からカードを1枚選択
2. クリーチャータイプを選択（4種類から）
3. 宣言を確定

**期待結果**:
- ✅ カードが選択状態で視覚的にハイライト
- ✅ 4種類のクリーチャーボタンが表示
- ✅ 宣言確認ダイアログが表示
- ✅ 宣言後、相手のターンに切り替わり

### 4.3 真偽推測（TRUE）
**目的**: 相手の宣言に対する真偽判定（TRUE）

**手順**:
1. 相手がカードを宣言
2. 宣言内容を確認
3. 「TRUE」ボタンをタップ
4. 確認ダイアログで確定

**期待結果**:
- ✅ カードの実際の種類が表示される
- ✅ 推測が正しい場合：相手にペナルティカード
- ✅ 推測が間違いの場合：自分にペナルティカード
- ✅ ペナルティパイルが正しく更新

### 4.4 真偽推測（LIE）
**目的**: 相手の宣言に対する真偽判定（LIE）

**手順**:
1. 相手がカードを宣言
2. 「LIE」ボタンをタップ
3. 結果を確認

**期待結果**:
- ✅ 推測結果が正確に表示される
- ✅ 正しくペナルティが割り当てられる

### 4.5 パスバック機能
**目的**: カードのパスバック機能確認

**手順**:
1. 相手の宣言に対して「パスバック」を選択
2. 相手の反応を確認
3. 最大3回パスのテスト

**期待結果**:
- ✅ カードが相手に戻る
- ✅ ターンが相手に移る
- ✅ パス回数制限（最大3回）が機能
- ✅ 3回到達後は強制的に推測選択

### 4.6 ペナルティパイル管理
**目的**: ペナルティカードの蓄積と表示確認

**手順**:
1. 意図的に何度か間違い推測を行う
2. ペナルティパイルの表示を確認
3. 各クリーチャータイプの蓄積を確認

**期待結果**:
- ✅ クリーチャー別に正しく分類表示
- ✅ カウント表示（0/3, 1/3, 2/3）
- ✅ 2枚で警告表示
- ✅ 視覚的な色分け（緑→黄→赤）

### 4.7 勝敗判定
**目的**: ゲーム終了条件の確認

**手順**:
1. 意図的に同じクリーチャータイプを3枚集める
2. ゲーム終了ダイアログを確認

**期待結果**:
- ✅ 3枚目獲得時に即座にゲーム終了
- ✅ 勝者・敗者が正しく表示
- ✅ 敗北理由（どのクリーチャーで負けたか）表示
- ✅ 結果画面への遷移

---

## 5. プロフィール更新機能テスト

### 5.1 プロフィールメイン画面
**目的**: プロフィール画面の基本機能確認

**手順**:
1. 画面下部タブの「プロフィール」アイコン（人型）をタップ
2. プロフィールヘッダー情報を確認
3. 統計情報（ゲーム数、勝率など）を確認
4. メニューオプション（編集、統計、履歴、アチーブメント、設定）を確認

**期待結果**:
- ✅ ユーザー名とアバターが表示される
- ✅ 基本統計（総ゲーム数、勝率、勝利数、敗北数）が表示
- ✅ メニューオプションが適切に配置されている
- ✅ サインアウトボタンが表示される

### 5.2 プロフィール編集機能
**目的**: ユーザープロフィール編集機能の詳細確認

**手順**:
1. プロフィール画面で「編集」メニューをタップ
2. 表示名フィールドをタップして新しい名前を入力
3. アバターURL フィールドに有効なURLを入力（例: https://via.placeholder.com/100）
4. 「保存」ボタンをタップ
5. メイン画面に戻って変更を確認

**期待結果**:
- ✅ 編集画面が正常に表示される
- ✅ 現在の値が入力フィールドにプリセットされている
- ✅ 表示名が正常に更新される（最大50文字制限）
- ✅ アバター画像が表示される（URL有効時）
- ✅ 保存後にメイン画面に戻る
- ✅ 変更が即座にUI に反映される

**エラーケースのテスト**:
- 空の表示名を保存しようとした場合の検証メッセージ
- 無効なURL（不正な形式）を入力した場合の処理
- 50文字を超える表示名を入力した場合の制限

### 5.3 統計表示機能
**目的**: 詳細なゲーム統計の正確性確認

**手順**:
1. プロフィール画面で「統計」メニューをタップ
2. 「全体的なパフォーマンス」セクションを確認
3. パフォーマンス内訳の進捗バーを確認
4. 勝率の円形グラフを確認
5. 追加統計（平均ゲーム時間、最長連勝、総プレイ時間、好きなクリーチャー）を確認
6. リフレッシュ機能をテスト（下に引っ張る）

**期待結果**:
- ✅ ヘッダーに「ゲーム統計」タイトルと戻るボタンが表示
- ✅ プレイ済みゲーム数、勝率、勝利数、敗北数が正確に表示
- ✅ 各統計にアイコンと色分けが適用されている
- ✅ 勝利数/敗北数の進捗バーが正確な比率で表示
- ✅ 勝率の円形グラフが中央に表示（パーセンテージとゲーム数）
- ✅ 追加統計が利用可能な場合のみ表示される
- ✅ リフレッシュで最新データが取得される
- ✅ 統計がない場合の空状態画面が表示される（「ゲームなし」メッセージ + 「ゲームを探す」ボタン）

### 5.4 ゲーム履歴機能
**目的**: 過去のゲーム履歴表示の詳細確認

**手順**:
1. プロフィール画面で「履歴」メニューをタップ
2. 「最近のパフォーマンス」統計セクションを確認
3. フィルターボタン（すべて、勝利、敗北）を試す
4. 個別のゲーム履歴カードを確認
5. リフレッシュ機能をテスト
6. 「さらに読み込む」ボタンをテスト（履歴がある場合）

**期待結果**:
- ✅ ヘッダーに「ゲーム履歴」タイトルと戻るボタンが表示
- ✅ パフォーマンス統計（総ゲーム数、勝利数、敗北数、勝率）が表示
- ✅ フィルターボタンが機能する（アクティブなボタンがハイライト）
- ✅ ゲームカードに以下が表示される：
  - 対戦相手名
  - 勝敗結果のバッジ（色分けされている）
  - ゲーム時間と日付
  - ゲーム時間（分:秒）とラウンド数
  - 勝利/敗北方法の説明
  - 適切なアイコン（勝利：トロフィー、敗北：Xマーク）
- ✅ リフレッシュが正常に動作する
- ✅ ページネーション（さらに読み込む）が機能する
- ✅ 履歴がない場合の空状態画面が表示される

### 5.5 アチーブメント機能
**目的**: アチーブメントシステムの詳細確認

**手順**:
1. プロフィール画面で「アチーブメント」メニューをタップ
2. アチーブメント統計（アンロック数、総数、完了率）を確認
3. 個別のアチーブメントカードを確認
4. 完了済みと未完了のアチーブメントの視覚的違いを確認
5. 未完了アチーブメントの進捗バーを確認
6. 「さらに多くのアチーブメントが近日公開！」セクションを確認

**期待結果**:
- ✅ ヘッダーに「アチーブメント」タイトルと戻るボタンが表示
- ✅ 統計セクションに正確な数値（アンロック数、総数、完了率）が表示
- ✅ アチーブメントカードに以下が含まれる：
  - アイコンと色（完了済みはフルカラー、未完了は半透明）
  - タイトルと説明
  - 完了済みの場合：チェックマークアイコン
  - 未完了の場合：進捗バー（X/Y形式の数値付き）
- ✅ 完了済みアチーブメントが完全に不透明で表示される
- ✅ 未完了アチーブメントが部分的に透明で表示される
- ✅ 進捗バーが正確な進捗パーセンテージを反映
- ✅ 「近日公開」セクションが適切に表示される

---

## 6. 設定機能テスト

### 6.1 設定画面アクセスと基本UI
**目的**: 設定画面の基本機能とレイアウト確認

**手順**:
1. プロフィール画面で「設定」メニューをタップ
2. ヘッダーの「保存」ボタンと戻るボタンを確認
3. 各設定セクションの表示を確認
4. 設定読み込み中の表示を確認

**期待結果**:
- ✅ ヘッダーに「設定」タイトル、戻るボタン、「保存」ボタンが表示
- ✅ 読み込み中は「設定を読み込み中...」メッセージが表示
- ✅ 設定が読み込まれた後に各セクションが表示される
- ✅ 保存ボタンが適切にスタイル設定されている

### 6.2 ゲーム設定セクション
**目的**: ゲーム関連設定の詳細確認

**手順**:
1. 「ゲーム設定」セクションを確認
2. 「優先時間制限」設定をテスト：
   - 各時間オプション（15s, 30s, 45s, 60s, 90s, 120s）をタップ
   - 選択された時間が視覚的にハイライトされることを確認
3. 「観戦を許可」スイッチを切り替える
4. 「ゲーム自動参加」スイッチを切り替える

**期待結果**:
- ✅ 時間制限選択で選択されたオプションが色とテキストでハイライト
- ✅ スイッチが正常に動作し、視覚的な変更が即座に反映
- ✅ 各設定項目にアイコンと説明が表示
- ✅ トグル状態の変更が保存される

### 6.3 オーディオ＆ハプティック設定
**目的**: サウンドとハプティック機能の確認

**手順**:
1. 「オーディオ＆ハプティック」セクションを確認
2. 「効果音」スイッチを切り替える
3. 「ハプティックフィードバック」スイッチを切り替える
4. 「アニメーション」スイッチを切り替える
5. 実際のゲーム中にこれらの設定が反映されるかテスト

**期待結果**:
- ✅ 各スイッチが正常に動作する
- ✅ スイッチのオン/オフ状態が視覚的に明確
- ✅ 設定変更後のゲームプレイで効果が反映される
- ✅ 設定がアプリ再起動後も維持される

### 6.4 通知設定セクション
**目的**: 通知管理機能の詳細確認

**手順**:
1. 「通知」セクションを確認
2. 以下の各項目のスイッチを個別にテスト：
   - ゲーム招待
   - ターン通知
   - ゲーム結果
   - アチーブメント
   - マーケティング
3. 各設定を無効にして対応する通知が送信されなくなるかテスト

**期待結果**:
- ✅ 5つの通知カテゴリが適切に表示される
- ✅ 各項目にアイコンと説明が表示される
- ✅ スイッチが正常に動作する
- ✅ 無効にした通知が送信されない
- ✅ 設定変更が保存される

### 6.5 プライバシー設定セクション
**目的**: プライバシー管理機能の確認

**手順**:
1. 「プライバシー」セクションを確認
2. 「オンライン状態を表示」スイッチを切り替える
3. 「フレンド申請を許可」スイッチを切り替える
4. 「統計を表示」スイッチを切り替える
5. 他のユーザーから見える情報が変更されるかテスト

**期待結果**:
- ✅ 3つのプライバシーオプションが表示される
- ✅ 各設定の影響が説明文で明確に説明されている
- ✅ 設定に応じて他のユーザーからの情報の見え方が変わる
- ✅ プライバシー設定が適切に保護される

### 6.6 アカウント管理セクション
**目的**: アカウント関連機能の確認

**手順**:
1. 「アカウント」セクションを確認
2. 「パスワード変更」をタップしてダイアログを確認
3. 「データのエクスポート」をタップしてダイアログを確認
4. 「アカウント削除」をタップして確認ダイアログをテスト

**期待結果**:
- ✅ 各アカウントオプションが適切に表示される
- ✅ パスワード変更で適切な案内メッセージが表示される
- ✅ データエクスポート機能の説明が表示される
- ✅ アカウント削除で二重確認ダイアログが表示される
- ✅ 右向き矢印アイコンが表示される

### 6.7 アプリ情報セクション
**目的**: アプリ情報の表示確認

**手順**:
1. 「について」セクションを確認
2. アプリバージョン情報を確認
3. 「プライバシーポリシー」をタップ
4. 「サービス利用規約」をタップ

**期待結果**:
- ✅ アプリバージョン「1.0.0」が表示される
- ✅ プライバシーポリシーのリンクが機能する
- ✅ サービス利用規約のリンクが機能する
- ✅ 今後利用可能になることが適切に案内される

### 6.8 設定保存機能
**目的**: 設定の保存と永続性確認

**手順**:
1. 複数の設定を変更する
2. 「保存」ボタンをタップ
3. 成功またはエラーメッセージを確認
4. アプリを再起動して設定が維持されているか確認
5. 保存中の表示（「保存中...」）を確認

**期待結果**:
- ✅ 保存ボタンが正常に機能する
- ✅ 保存中は「保存中...」と表示される
- ✅ 保存成功時に「設定が正常に保存されました」メッセージが表示
- ✅ 保存失敗時に適切なエラーメッセージが表示
- ✅ アプリ再起動後も設定が維持される

---

## 7. リアルタイム機能テスト

### 7.1 接続状態監視
**目的**: ネットワーク接続状態の監視確認

**手順**:
1. ゲーム中にネットワーク接続を一時的に切断
2. 接続状態インジケーターを確認
3. 接続を復旧
4. 再接続処理を確認

**期待結果**:
- ✅ 切断時に即座に状態変化が表示
- ✅ 再接続中の表示が現れる
- ✅ 復旧時に自動的に再同期
- ✅ ゲーム状態が保持される

### 7.2 リアルタイム同期
**目的**: マルチプレイヤー間のリアルタイム同期確認

**手順**:
1. 2台のデバイスで同じゲームに参加
2. 一方のアクションが他方に即座に反映されるか確認
3. ターン変更、カード宣言、推測などをテスト

**期待結果**:
- ✅ アクションが1-2秒以内に同期
- ✅ UIが適切に更新される
- ✅ データの不整合が発生しない

---

## 8. パフォーマンステスト

### 8.1 アプリ起動時間
**目的**: アプリの起動性能確認

**手順**:
1. アプリを完全に終了
2. 再起動してサインイン画面表示までの時間を測定
3. 複数回測定して平均を算出

**期待結果**:
- ✅ 起動時間3秒以内
- ✅ スプラッシュ画面の適切な表示
- ✅ 初回起動とそれ以降の起動時間

### 8.2 メモリ使用量
**目的**: メモリリークや過度なメモリ使用の確認

**手順**:
1. 長時間のゲームプレイ（30分以上）
2. 複数ゲームの連続実行
3. デバイスのメモリ使用量を監視

**期待結果**:
- ✅ メモリ使用量が安定している
- ✅ メモリリークが発生しない
- ✅ アプリがクラッシュしない

---

## 9. エラーハンドリングテスト

### 9.1 ネットワークエラー
**目的**: ネットワーク関連エラーの処理確認

**手順**:
1. ゲーム中にネットワークを切断
2. エラーメッセージを確認
3. 復旧時の動作を確認

**期待結果**:
- ✅ 適切なエラーメッセージ表示
- ✅ ユーザーフレンドリーな説明
- ✅ 復旧後の正常な動作継続

### 9.2 認証エラー
**目的**: 認証関連エラーの処理確認

**手順**:
1. 無効なメールアドレス入力
2. 間違ったパスワード入力
3. セッション期限切れ状況

**期待結果**:
- ✅ 明確なエラーメッセージ
- ✅ セキュリティを損なわない情報表示
- ✅ 適切な回復手順の提示

---

## 10. セキュリティテスト

### 10.1 データ保護
**目的**: ユーザーデータの適切な保護確認

**手順**:
1. プロフィール情報の表示権限確認
2. ゲームデータの改ざん防止確認
3. 不正アクセス防止確認

**期待結果**:
- ✅ 個人情報が適切に保護されている
- ✅ ゲームデータの整合性が保たれている
- ✅ 不正な操作が防止されている

---

## 11. UI/UX品質テスト

### 11.1 視覚的一貫性
**目的**: UI要素の一貫性とデザインガイドライン準拠確認

**手順**:
1. 全画面のヘッダーデザイン統一性を確認
2. カラーテーマ（ライト/ダーク）の一貫性を確認
3. アイコンの使用統一性を確認
4. フォントサイズとスタイルの一貫性を確認
5. ボタンデザインの一貫性を確認

**期待結果**:
- ✅ 全画面で統一されたヘッダー構造
- ✅ テーマカラーが適切に適用されている
- ✅ アイコンスタイル（SF Symbols）が統一されている
- ✅ ThemedTextコンポーネントが適切に使用されている
- ✅ ボタンの視覚階層が明確

### 11.2 アクセシビリティ
**目的**: アクセシビリティ機能の確認

**手順**:
1. テキストのコントラスト比を確認
2. タッチターゲットのサイズを確認（最小44px）
3. スクリーンリーダー対応をテスト
4. 色盲ユーザーへの配慮を確認

**期待結果**:
- ✅ テキストと背景のコントラスト比が適切
- ✅ ボタンとタッチ可能要素が十分なサイズ
- ✅ アクセシビリティラベルが適切に設定
- ✅ 色のみに依存しない情報伝達

### 11.3 レスポンシブ設計
**目的**: 異なる画面サイズでの表示確認

**手順**:
1. 小さい画面（iPhone SE）での表示をテスト
2. 大きい画面（iPad）での表示をテスト
3. 横向きモードでの表示をテスト
4. テキストスケール設定の影響をテスト

**期待結果**:
- ✅ 小画面でも全要素が適切に表示される
- ✅ 大画面で適切にレイアウトが調整される
- ✅ 横向きモードで正常に動作する
- ✅ システムのテキストサイズ設定に対応している



---

*このチェックリストは実装状況に応じて更新してください。*